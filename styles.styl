@import "_deps"
@import "_code"

yellow = #FFDD00
orange = #FF9D00

html {
  box-sizing: border-box;
}
*, *:before, *:after {
  box-sizing: inherit;
}

// Mixin
random(min,max)
  return floor(math(0, 'random')*(max - min + 1) + min)

purple = #2E0067


.slides > article
  padding 50px
  &:before
    content ''
    display block
    width 100%
    height 100%
    position absolute
    filter grayscale(100%) contrast(160%)
    background:url(images/3.jpg); // blacksmith
    background-size cover
    top 0
    left 0
    z-index -2
  &:after
    z-index -1
    content ''
    display block
    width 100%
    height 100%
    position absolute
    top 0
    left 0
    opacity 0.8
    background-image linear-gradient(random(0,360)deg, purple 0%, lighten(purple,10%) 100%);
  &.plain
    &:before, &:after
      display none
  &.section
    &:after
      background-image linear-gradient(random(0,360)deg, yellow 0%, lighten(yellow,10%) 100%);
    h1,h2,h3,h4,h5,h6
      filter none
    .sub
      color black

.slides > article.old-tools
  &:before
    background-image url("images/soldering.jpg") !important
    background-size contain
  &:after
    opacity 0.1


randomColor()
  return rgb(random(0,255),random(0,255),random(0,255))

combos = (#825854 #3de7e4) (#29519e #94eced) (#e26ab5 #1e4823) (#11feec #FF00E0) (#006C8D #006C8D) (#3a5c8e #eb821b) (#ca5723 #7d5794) (#6aa4e1 #ae5ceb) (#226443 #5e9ccd) (#6d6528 #3768f7) (#2decf5 #52aeea) (#d07dd7 #e1e34a) (#3456fd #14e839) (#f8078c #17156b)

randomGradient()
  n = random(1,13)
  combo = combos[n]
  return combo



for num in 1...40
  path = "images/"+ random(1,31)+".jpg"
  combo = randomGradient();
  .slides > article:nth-child(39n+{num})
    &:before
      background-image url(path)
      content combo[1]
    &:after
      rando = randomColor()
      // background-image linear-gradient(random(0,360)deg, rando 0%, lighten(rando,10%) 100%);

// .slides > article:nth-child(1n):after
//     background-image: linear-gradient(-173deg, #007EFF 0%, #6DD7BA 51%);

h1,h2,h3,h4,h5,h6
  color white
  font-family: "pure", "Bavro", sans-serif;
  font-weight 700
  line-height: 0.8
  letter-spacing 0
  line-height auto
  text-shadow 10px 10px 0 alpha(white, 0.01)
  margin -50px 0 15px 0

.firefox
  h1,h2,h3,h4,h5,h6
    filter: invert(100%);
    text-shadow 10px 10px 0 alpha(white, 0.2)


p, a, li
  text-shadow 4px 3px 0 rgba(0,0,0,0.3)
  margin 15px 0
  font-family 'bavro'

p, li, small
  color white
  font-size 90px

.sub
  font-family 'bavro'
  transform skew(0, -8deg)
  margin-top 100px
  font-weight 100
  color yellow
  font-size 60px

h2 + .sub
  transform none


small
  font-size 25px

h1
  transform skew(0, -8deg)
  font-size 300px
  // color yellow
  letter-spacing -2px
  a
    text-decoration none
    font-size 20px
    color black
    padding-left 10px

ul {
  text-align: left;
  margin-left: 100px;
}

h2
  font-size 200px
  // color yellow
  line-height 1
  margin 0
  a
    color blue

h2 + img
  margin-top 20px !important


.large
  font-size 200px

.big
  font-size 250px

.huge
  font-size 450px

h3
  font-size 70px
  color yellow
  line-height 1.5

h4
  color yellow
  font-size 50px

.halves
  width 100%

.half
  width 50%


img.wide
  width 100%
  height auto
  max-height none

img.high
  width auto
  height 100%
  max-height 1200px

video.high
  width: auto;
  height: 100%;
  min-width: 0;

.hl
  color yellow

article.treats
  h1
    margin-bottom 90px
    font-size 250px
    // color orange


.flex
  display flex !important
  & > *
    flex 1
    &:before
      content  ''


.emoji
  font-size 116px
  font-family serif


// Smaller Screens
body.square
  .slides
    & > article
      w = 1920
      h = 1080
      width w px
      height h px
      margin-left (w/2) * -1px
      margin-top (h/2) * -1px
      border-radius 0
      h2
        font-size 110px
      p, li, small
        font-size 30px
      .big
        font-size 180px
      .large
        font-size 140px
      .huge
        font-size 220px


// Fonts!
@font-face {
    font-family: 'bavro';
    src: url('./fonts/bavro-regular-webfont.eot');
    src: url('./fonts/bavro-regular-webfont.eot?#iefix') format('embedded-opentype'),
         url('./fonts/bavro-regular-webfont.woff2') format('woff2'),
         url('./fonts/bavro-regular-webfont.woff') format('woff'),
         url('./fonts/bavro-regular-webfont.ttf') format('truetype'),
         url('./fonts/bavro-regular-webfont.svg#bavroregular') format('svg');
    font-weight: normal;
    font-style: normal;
}

@font-face {
  font-family: "pure";
  /* reference name */
  src: url('./fonts/PureHeartSVG-Regular.otf');
  font-weight: 400;
  /* or whatever applies */
  font-style: normal;
  /* or whatever applies */
  text-rendering: optimizeLegibility;
  /* maybe */
}